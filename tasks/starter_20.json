[
  {
    "task_id": "T001",
    "workload_type": "buy_exact_sku",
    "start_url": "/",
    "difficulty": 1,
    "spec": {
      "seed": { "$sample_product": { "where": { "price": { "$gt": 1 }, "title": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["title"], "max_tokens": 5 } },
      "target_asin": { "$derive_from": { "var": "P", "field": "asin" } }
    },
    "oracle": { "type": "exact_asin_in_cart", "expected_asin": { "$derive_from": { "var": "P", "field": "asin" } } }
  },
  {
    "task_id": "T002",
    "workload_type": "buy_exact_sku",
    "start_url": "/",
    "difficulty": 1,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "title": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["brand", "title"], "max_tokens": 6 } },
      "target_asin": { "$derive_from": { "var": "P", "field": "asin" } }
    },
    "oracle": { "type": "exact_asin_in_cart", "expected_asin": { "$derive_from": { "var": "P", "field": "asin" } } }
  },
  {
    "task_id": "T003",
    "workload_type": "buy_exact_sku",
    "start_url": "/",
    "difficulty": 2,
    "spec": {
      "seed": { "$sample_product": { "where": { "category_leaf": { "$exists": true }, "brand": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 3 } },
      "hint_brand": { "$derive_from": { "var": "P", "field": "brand" } },
      "target_asin": { "$derive_from": { "var": "P", "field": "asin" } }
    },
    "oracle": { "type": "exact_asin_in_cart", "expected_asin": { "$derive_from": { "var": "P", "field": "asin" } } }
  },
  {
    "task_id": "T004",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 2,
    "spec": {
      "seed": { "$sample_product": { "where": { "price": { "$gt": 1 }, "brand": { "$exists": true }, "category_leaf": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 3 } },
      "constraints": {
        "brand": { "$derive_from": { "var": "P", "field": "brand" } },
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 1.1 } }
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  },
  {
    "task_id": "T005",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 3,
    "spec": {
      "seed": { "$sample_product": { "where": { "rating_avg": { "$exists": true }, "price": { "$gt": 5 } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["title"], "max_tokens": 3 } },
      "constraints": {
        "rating_gte": { "$derive_threshold": { "var": "P", "field": "rating_avg", "floor": 3.5 } },
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 1.2 } }
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  },
  {
    "task_id": "T006",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 3,
    "spec": {
      "seed": { "$sample_product": { "where": { "category_leaf": { "$exists": true }, "price": { "$gt": 1 } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 2 } },
      "constraints": {
        "category_leaf": { "$derive_from": { "var": "P", "field": "category_leaf" } },
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 0.95 } }
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  },
  {
    "task_id": "T007",
    "workload_type": "find_highest_rated_in_brand_category",
    "start_url": "/",
    "difficulty": 2,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "category_leaf": { "$exists": true }, "rating_avg": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 3 } },
      "constraints": {
        "brand": { "$derive_from": { "var": "P", "field": "brand" } },
        "category_leaf": { "$derive_from": { "var": "P", "field": "category_leaf" } }
      },
      "sort": "rating_desc"
    },
    "oracle": { "type": "max_rating_match" }
  },
  {
    "task_id": "T008",
    "workload_type": "find_highest_rated_in_brand_category",
    "start_url": "/",
    "difficulty": 3,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "rating_avg": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["brand"], "max_tokens": 2 } },
      "constraints": {
        "brand": { "$derive_from": { "var": "P", "field": "brand" } },
        "rating_gte": 4.0
      },
      "sort": "rating_desc"
    },
    "oracle": { "type": "max_rating_match" }
  },
  {
    "task_id": "T009",
    "workload_type": "find_highest_rated_in_brand_category",
    "start_url": "/",
    "difficulty": 4,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "category_leaf": { "$exists": true }, "price": { "$gt": 1 }, "rating_avg": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 3 } },
      "constraints": {
        "brand": { "$derive_from": { "var": "P", "field": "brand" } },
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 1.5 } }
      },
      "sort": "rating_desc"
    },
    "oracle": { "type": "max_rating_match" }
  },
  {
    "task_id": "T010",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 4,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "price": { "$gt": 10 }, "rating_avg": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["brand"], "max_tokens": 2 } },
      "constraints": {
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 0.8 } },
        "rating_gte": { "$derive_threshold": { "var": "P", "field": "rating_avg", "floor": 3.0 } }
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  },
  {
    "task_id": "T011",
    "workload_type": "graph_browse_related",
    "start_url": "/",
    "difficulty": 3,
    "spec": {
      "seed": { "$sample_product": { "where": { "related": { "$exists": true } } } },
      "edge": "also_bought"
    },
    "oracle": { "type": "related_edge_match" }
  },
  {
    "task_id": "T012",
    "workload_type": "graph_browse_related",
    "start_url": "/",
    "difficulty": 4,
    "spec": {
      "seed": { "$sample_product": { "where": { "related": { "$exists": true }, "rating_avg": { "$exists": true } } } },
      "edge": "also_viewed"
    },
    "oracle": { "type": "related_edge_match" }
  },
  {
    "task_id": "T013",
    "workload_type": "buy_exact_sku",
    "start_url": "/",
    "difficulty": 5,
    "spec": {
      "seed": { "$sample_product": { "where": { "title": { "$exists": true }, "brand": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["title"], "max_tokens": 2 } },
      "target_asin": { "$derive_from": { "var": "P", "field": "asin" } }
    },
    "oracle": { "type": "exact_asin_in_cart", "expected_asin": { "$derive_from": { "var": "P", "field": "asin" } } }
  },
  {
    "task_id": "T014",
    "workload_type": "find_highest_rated_in_brand_category",
    "start_url": "/",
    "difficulty": 5,
    "spec": {
      "seed": { "$sample_product": { "where": { "category_leaf": { "$exists": true }, "rating_avg": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 2 } },
      "constraints": {
        "category_leaf": { "$derive_from": { "var": "P", "field": "category_leaf" } },
        "rating_gte": 4.0
      },
      "sort": "rating_desc"
    },
    "oracle": { "type": "max_rating_match" }
  },
  {
    "task_id": "T015",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 5,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "category_leaf": { "$exists": true }, "price": { "$gt": 1 } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["brand", "category_leaf"], "max_tokens": 4 } },
      "constraints": {
        "brand": { "$derive_from": { "var": "P", "field": "brand" } },
        "category_leaf": { "$derive_from": { "var": "P", "field": "category_leaf" } },
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 1.05 } }
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  },
  {
    "task_id": "T016",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 6,
    "spec": {
      "seed": { "$sample_product": { "where": { "category_leaf": { "$exists": true }, "price": { "$gt": 1 } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 2 } },
      "constraints": {
        "price_bucket": "under_25"
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  },
  {
    "task_id": "T017",
    "workload_type": "buy_exact_sku",
    "start_url": "/",
    "difficulty": 6,
    "spec": {
      "seed": { "$sample_product": { "where": { "title": { "$exists": true }, "brand": { "$exists": true }, "price": { "$gt": 1 } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["title"], "max_tokens": 4 } },
      "target_asin": { "$derive_from": { "var": "P", "field": "asin" } }
    },
    "oracle": { "type": "exact_asin_in_cart", "expected_asin": { "$derive_from": { "var": "P", "field": "asin" } } }
  },
  {
    "task_id": "T018",
    "workload_type": "graph_browse_related",
    "start_url": "/",
    "difficulty": 6,
    "spec": {
      "seed": { "$sample_product": { "where": { "related": { "$exists": true } } } },
      "edge": "bought_together"
    },
    "oracle": { "type": "related_edge_match" }
  },
  {
    "task_id": "T019",
    "workload_type": "find_highest_rated_in_brand_category",
    "start_url": "/",
    "difficulty": 7,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "category_leaf": { "$exists": true }, "rating_avg": { "$exists": true }, "rating_count": { "$gt": 49 } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["category_leaf"], "max_tokens": 3 } },
      "constraints": {
        "brand": { "$derive_from": { "var": "P", "field": "brand" } },
        "category_leaf": { "$derive_from": { "var": "P", "field": "category_leaf" } },
        "rating_count_gte": 50
      },
      "sort": "rating_desc"
    },
    "oracle": { "type": "max_rating_match" }
  },
  {
    "task_id": "T020",
    "workload_type": "find_cheapest_under_constraints",
    "start_url": "/",
    "difficulty": 7,
    "spec": {
      "seed": { "$sample_product": { "where": { "brand": { "$exists": true }, "category_leaf": { "$exists": true }, "price": { "$gt": 1 }, "rating_avg": { "$exists": true } } } },
      "query": { "$derive_query_from": { "var": "P", "fields": ["brand"], "max_tokens": 2 } },
      "constraints": {
        "category_leaf": { "$derive_from": { "var": "P", "field": "category_leaf" } },
        "rating_gte": 3.0,
        "price_lte": { "$derive_range": { "var": "P", "field": "price", "mult": 0.7 } }
      },
      "sort": "price_asc"
    },
    "oracle": { "type": "min_price_match" }
  }
]
